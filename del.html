<!DOCTYPE html>
<html>
<head>
	<title>hey</title>

	  <meta charset="utf-8">
  	  <meta name="viewport" content="initial-scale=1">
	  <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<script src="https://www.w3schools.com/lib/w3.js"></script>
	<link rel="stylesheet" type="text/css" href="task1.css">
	<link rel="stylesheet" type="text/css" href="particlecss.css">
	<style>
        .h1{
            text-shadow: 2px 2px 5px red;
        }
        </style>
</head>
<body>
	
	<div id="particles-js">
		<div class="container">
				<div class="h1">
					<h1>
					<center>
						Enter Detail Of The Person You Want To Delete 
					</center>
					</h1>
				</div>
		
			<div class="col-sm-8 m-auto d-block">   <!--d for display block and m for margin-->
				<form method="get" action="output.html" class="bg-light">
					<div class="form-group">
						<label> Id</label>
						<input type="text" name="id" class="form-control" placeholder="Enter Id as given in card form" required >
					</div>

					<div class="form-group">
						<label> Email Id:</label>
						<input type="email" name="EmailId" class="form-control"  placeholder="Enter Your Email" required>
					</div>

					<div class="form-group">
						<label> Password</label>
						<input type="password" name="password"  class="form-control" placeholder="Create password"  required/>
					</div>
					
     <input  type="submit" class="btn btn-success btn-block submit" value="Delete Account">	
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <script type="text/javascript">
   			function getParams(){
                var idx = document.URL.indexOf('?');
                var params = new Array();
                if (idx != -1) {
                    var pairs = document.URL.substring(idx+1,document.URL.length).split('&');
                    for (var i=0; i<pairs.length; i++){
                        nameVal = pairs[i].split('=');
                        params[nameVal[0]] = nameVal[1];
                    }
                }
                return params;
            }
            params = getParams();
            id=unescape(params["id"]);
            Email = unescape(params["email"]);
            Password=unescape(params["password"]);
            var arr= {email:Email,password:Password};
		$.ajax({
		    url:"https://technocracy-task-2.herokuapp.com/people/"+id,
		    type: 'delete',
		    data: JSON.stringify(arr),
		    contentType: 'application/json; charset=utf-8',
		    dataType: 'json',
		    async: true,
		    success: function(msg) {
		        alert("deleted");
		    },
		
				    error: function (jqXHR, exception) {
                        var msg = '';
                          if (jqXHR.status === 0) {
                              msg = 'Not connect.\n Verify Network.';
                          } else if (jqXHR.status == 404) {
                              msg = 'Requested page not found. [404]';
                          } else if (jqXHR.status == 500) {
                              msg = 'Entered values must be unique for the user  |  Internal Server Error [500].';
                          } else if (exception === 'parsererror') {
                              msg = 'Requested JSON parse failed.';
                          } else if (exception === 'timeout') {
                              msg = 'Time out error.';
                          } else if (exception === 'abort') {
                              msg = 'Ajax request aborted.';
                          } else {
                              msg = 'Uncaught Error.\n' + jqXHR.responseText;
                          }
                          alert(msg);
                }
				});
	
	</script>

        <script type="text/javascript" src="particles.min.js"></script>
        <script type="text/javascript" src="app.js"></script>
        <script type="text/javascript" src="particles.js"></script>

</body>
</html>