<html>
    <head>
        <title>outputs</title>
          <meta charset="utf-8">
      <meta name="viewport" content="initial-scale=1">
    <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <!-- Popper JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <script src="https://www.w3schools.com/lib/w3.js"></script>
  <link rel="stylesheet" type="text/css" href="task1.css">
  <link rel="stylesheet" type="text/css" href="particlecss.css">
        <style>
        .h1{
            text-shadow: 2px 2px 5px red;
        }
        </style>
    </head>
    <body >

        <div id="particles-js">
              <div class="h1">
                      <h1>       
                      <center>
                          Thankyou For Your Registraion And Your Details Are As Follow
                      </center>
                      </h1>
              </div>
              <a href="fetch.html">
                <h1>
                    Click Here To See All Data
                </h1>
              </a>
        <div>
  <center>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            function getParams(){
                var idx = document.URL.indexOf('?');
                var params = new Array();
                if (idx != -1) {
                    var pairs = document.URL.substring(idx+1,document.URL.length).split('&');
                    for (var i=0; i<pairs.length; i++){
                        nameVal = pairs[i].split('=');
                        params[nameVal[0]] = nameVal[1];
                    }
                }
                return params;
            }
            params = getParams();
            name= unescape(params["name"]);
            Email = unescape(params["email"]);
            Password=unescape(params["password"]);
            Age=unescape(params["age"]);
            Color=unescape(params["color"]);
            Username= unescape(params["username"]);
            Gender=unescape(params["gender"]);
            var arr = {name:name,email:Email,password:Password,age:Age,color:Color,username:Username,gender:Gender};
            $.ajax({
            url: 'https://technocracy-task-2.herokuapp.com/people',
            type: 'POST',
            data: JSON.stringify(arr),
            contentType: 'application/json; charset=utf-8',
            dataType: 'json',
            async: true,
            success: function(msg) {
                alert("Your Data Has Been Posted");
            },
             error: function (jqXHR, exception)
                                                             {
                                                                        var msg = '';
                                                                          if (jqXHR.status === 0) {
                                                                              msg = 'Not connect.\n Verify Network.';
                                                                          } else if (jqXHR.status == 404) {
                                                                              msg = 'Requested page not found. [404]';
                                                                          } else if (jqXHR.status == 500) {
                                                                              msg = 'Entered values must be unique for the user  |  Internal Server Error [500].';
                                                                          } else if (exception === 'parsererror') {
                                                                              msg = 'Requested JSON parse failed.';
                                                                          } else if (exception === 'timeout') {
                                                                              msg = 'Time out error.';
                                                                          } else if (exception === 'abort') {
                                                                              msg = 'Ajax request aborted.';
                                                                          } else {
                                                                              msg = 'Uncaught Error.\n' + jqXHR.responseText;
                                                                          }
                                                                          alert(msg);
                                                                }
                                                        
                                                            
        });
            document.write("Name= " +  name + "<br>");
            document.write("Email Id = " + Email + "<br>");
            document.write("Age= " + Age + "<br>");;
            document.write("Color = " +  Color + "<br>");
            document.write("Password ="+ Password+"<br>");
            document.write("Username= " + Username + "<br>");
            document.write("Gender= " + Gender + "<br>");
        </script>

        <script type="text/javascript" src="particles.min.js"></script>
        <script type="text/javascript" src="app.js"></script>
        <script type="text/javascript" src="particles.js"></script>
        </center>
    </body>
</html>